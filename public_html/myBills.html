{% extends 'layout.html' %}

{% block body %}
  <h1>Bill Dashboard <small>for {{session.user_email}}</small></h1>
  <hr>
  <div class="container">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">My Bills<span></span></h3>
      </div>
    </div>
  </div>

  <div class="table-responsive">
    <table id="billTable" class="bill-rowsTable testClass table table-hover table-striped table-sm">
      
      <thead class="thead-dark">
        <tr>
          <th>Name</th>
          <th>Amount</th>
          <th>Date Due</th>
          <th>Recurrence</th>
          <th>Auto</th>
          <th>Description</th>
          <th></th>
          <th></th>
        </tr>
      </thead>

      {% for bill in bill_dict %}
        <tr class="bill-rows" id="rowID{{ bill.bill_id }}" bill_id="{{ bill.bill_id }}"></tr>
          <td>{{bill.bill_name}}</td>
          <td>${{bill.bill_amount}}</td>
          <td>{{bill.bill_date}}</td>
          <td>{{bill.recur_id}}</td>
          <td>{{bill.bill_autoWithdrawal}}</td>
          <td>{{bill.bill_description}}</td>

          <td><a href="editBill/{{ bill.bill_id }}" class="btn btn-secondary float-right btn-sm">Edit</a></td>
          <td>
            <form method="POST" action="{{url_for('deleteBill', id=bill.bill_id)}}">
              <input type="hidden" name="_method" value="DELETE">
              <input type="submit" value="Delete" class="btn btn-danger btn-sm">
            </form>
          </td>
        </tr>
      {% endfor %}

    </table>
  </div>

{% endblock %}
